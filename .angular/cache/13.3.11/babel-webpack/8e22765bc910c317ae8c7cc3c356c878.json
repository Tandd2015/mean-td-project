{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Review } from '../../models';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/review.service\";\nfunction TestimonialListComponent_div_1_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const error_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(error_r3);\n  }\n}\nfunction TestimonialListComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"ul\", 3);\n    i0.ɵɵtemplate(2, TestimonialListComponent_div_1_li_2_Template, 2, 1, \"li\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.reviewsMixedListErrors);\n  }\n}\nfunction TestimonialListComponent_app_carousel_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-carousel\", 5);\n    i0.ɵɵlistener(\"mouseover\", function TestimonialListComponent_app_carousel_2_Template_app_carousel_mouseover_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.stopAutoSlideReviewGoogle();\n    })(\"mouseout\", function TestimonialListComponent_app_carousel_2_Template_app_carousel_mouseout_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.startAutoSlideReviewGoogle();\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"carouselGoogleReviews\", ctx_r1.reviewsGoogle)(\"carouselGoogleReviewsRating\", ctx_r1.reviewRating)(\"carouselGoogleReviewsAutoSlide\", ctx_r1.autoSlideReviewStopperGoogle);\n  }\n}\nexport let TestimonialListComponent = /*#__PURE__*/(() => {\n  class TestimonialListComponent {\n    constructor(reviewService) {\n      this.reviewService = reviewService;\n      this.reviewsMixedListErrors = [];\n      this.reviewsGoogle = [];\n      this.reviewsGoogleEvent = new EventEmitter();\n      this.reviewsGoogleSubscription = new Subscription();\n      this.review = new Review();\n      this.reviewRating = [];\n      this.reviewRatingGoogleEvent = new EventEmitter();\n      this.reviewRatingTwo = [];\n      this.message = '';\n      this.readonly = true;\n      this.max = 5;\n      this.autoSlideReviewStopperGoogle = true;\n      this.autoSlideReviewStopperGoogleEvent = new EventEmitter();\n    }\n    ngOnInit() {\n      this.onGetGoogleReviews();\n    }\n    handleReviewErrors(errors) {\n      this.reviewsMixedListErrors = Array.isArray(errors) ? errors : [errors];\n    }\n    onGetGoogleReviews() {\n      this.reviewsGoogleSubscription = this.reviewService.getGoogleReviews().subscribe({\n        next: reviewsGoogle => {\n          reviewsGoogle.forEach((reviews, index) => {\n            var _a;\n            if (reviews.oRDate) {\n              let slicedORDate = reviews.oRDate.slice(23, reviews.oRDate.length);\n              reviews.oRDate = slicedORDate;\n            }\n            ;\n            if (((_a = reviews.likes) === null || _a === void 0 ? void 0 : _a.toString()) === 'Like') {\n              reviews.likes = 0;\n            }\n            ;\n            this.reviewRating[index] = reviews.byRating;\n            this.reviewsGoogle.push(reviews);\n          });\n          if (this.reviewsGoogle.length === 0) {\n            console.log('Reviews - Error', this.reviewsGoogle);\n            this.reviewsGoogleSubscription.unsubscribe();\n            this.onGetGoogleReviews();\n          }\n          ;\n          this.reviewsGoogleEvent.emit(this.reviewsGoogle);\n          this.reviewRatingGoogleEvent.emit(this.reviewRating);\n          console.log('Reviews - ', this.reviewsGoogle);\n        },\n        error: error => {\n          console.log('R E - ', error.error);\n          this.handleReviewErrors(error.error);\n        }\n      });\n    }\n    stopAutoSlideReviewGoogle() {\n      this.autoSlideReviewStopperGoogle = false;\n    }\n    startAutoSlideReviewGoogle() {\n      this.autoSlideReviewStopperGoogle = true;\n    }\n    ngOnDestroy() {\n      this.reviewsGoogleEvent.unsubscribe();\n      this.reviewRatingGoogleEvent.unsubscribe();\n      this.reviewsGoogleSubscription.unsubscribe();\n    }\n  }\n  TestimonialListComponent.ɵfac = function TestimonialListComponent_Factory(t) {\n    return new (t || TestimonialListComponent)(i0.ɵɵdirectiveInject(i1.ReviewService));\n  };\n  TestimonialListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TestimonialListComponent,\n    selectors: [[\"app-testimonial-list\"]],\n    outputs: {\n      reviewsGoogleEvent: \"reviewsGoogleEvent\",\n      reviewRatingGoogleEvent: \"reviewRatingGoogleEvent\",\n      autoSlideReviewStopperGoogleEvent: \"autoSlideReviewStopperGoogleEvent\"\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[\"class\", \"row reviewsMixedListErrorContainer\", 4, \"ngIf\"], [3, \"carouselGoogleReviews\", \"carouselGoogleReviewsRating\", \"carouselGoogleReviewsAutoSlide\", \"mouseover\", \"mouseout\", 4, \"ngIf\"], [1, \"row\", \"reviewsMixedListErrorContainer\"], [1, \"alert\", \"alert-danger\"], [4, \"ngFor\", \"ngForOf\"], [3, \"carouselGoogleReviews\", \"carouselGoogleReviewsRating\", \"carouselGoogleReviewsAutoSlide\", \"mouseover\", \"mouseout\"]],\n    template: function TestimonialListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\");\n        i0.ɵɵtemplate(1, TestimonialListComponent_div_1_Template, 3, 1, \"div\", 0);\n        i0.ɵɵtemplate(2, TestimonialListComponent_app_carousel_2_Template, 1, 3, \"app-carousel\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.reviewsMixedListErrors.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.reviewsGoogle && ctx.reviewsGoogle.length > 0);\n      }\n    },\n    styles: [\"section[_ngcontent-%COMP%]{display:inline;text-align:center}\"]\n  });\n  return TestimonialListComponent;\n})();\n;","map":null,"metadata":{},"sourceType":"module"}