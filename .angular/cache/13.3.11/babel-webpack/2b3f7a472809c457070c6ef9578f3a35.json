{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Post } from '../../models';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/post.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../carousel/carousel.component\";\nfunction PostListComponent_div_1_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const error_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(error_r3);\n  }\n}\nfunction PostListComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"ul\", 3);\n    i0.ɵɵtemplate(2, PostListComponent_div_1_li_2_Template, 2, 1, \"li\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.postsMixedListErrors);\n  }\n}\nfunction PostListComponent_app_carousel_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-carousel\", 5);\n    i0.ɵɵlistener(\"mouseover\", function PostListComponent_app_carousel_2_Template_app_carousel_mouseover_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.stopAutoSlidePostGoogle();\n    })(\"mouseout\", function PostListComponent_app_carousel_2_Template_app_carousel_mouseout_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.startAutoSlidePostGoogle();\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"carouselGooglePosts\", ctx_r1.postsGoogle)(\"posterLinkGooglePosts\", ctx_r1.posterLink)(\"carouselGooglePostsAutoSlide\", ctx_r1.autoSlidePostStopperGoogle);\n  }\n}\nexport let PostListComponent = /*#__PURE__*/(() => {\n  class PostListComponent {\n    constructor(postService) {\n      this.postService = postService;\n      this.postsMixedListErrors = [];\n      this.postsGoogle = [];\n      this.postsGoogleEvent = new EventEmitter();\n      this.postsGoogleSubscription = new Subscription();\n      this.post = new Post();\n      this.posterLink = 'https://www.google.com/maps/place/Terry+Dockery+Investigations+and+Security+Services/@41.0972585,-84.2647399,17z/data=!3m1!4b1!4m5!3m4!1s0x883e808771a44aa7:0x769d0e746c737a97!8m2!3d41.0972545!4d-84.2625512?hl=en-US';\n      this.autoSlidePostStopperGoogle = true;\n      this.autoSlidePostStopperGoogleEvent = new EventEmitter();\n    }\n    ngOnInit() {\n      this.onGetGooglePosts();\n    }\n    onGetGooglePosts() {\n      this.postsGoogleSubscription = this.postService.getGooglePosts().subscribe({\n        next: postsGoogle => {\n          this.postsGoogle = postsGoogle;\n          if (this.postsGoogle.length === 0) {\n            console.log('Posts - Error', this.postsGoogle);\n            this.postsGoogleSubscription.unsubscribe();\n            this.onGetGooglePosts();\n          }\n          ;\n          this.postsGoogleEvent.emit(this.postsGoogle);\n          console.log('Posts - ', this.postsGoogle);\n        },\n        error: error => {\n          console.log('P E - ', error.error);\n          this.handlePostErrors(error.error);\n        }\n      });\n    }\n    stopAutoSlidePostGoogle() {\n      this.autoSlidePostStopperGoogle = false;\n    }\n    startAutoSlidePostGoogle() {\n      this.autoSlidePostStopperGoogle = true;\n    }\n    handlePostErrors(errors) {\n      this.postsMixedListErrors = Array.isArray(errors) ? errors : [errors];\n    }\n    ngOnDestroy() {\n      this.postsGoogleEvent.unsubscribe();\n      this.postsGoogleSubscription.unsubscribe();\n    }\n  }\n  PostListComponent.ɵfac = function PostListComponent_Factory(t) {\n    return new (t || PostListComponent)(i0.ɵɵdirectiveInject(i1.PostService));\n  };\n  PostListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PostListComponent,\n    selectors: [[\"app-post-list\"]],\n    outputs: {\n      postsGoogleEvent: \"postsGoogleEvent\",\n      autoSlidePostStopperGoogleEvent: \"autoSlidePostStopperGoogleEvent\"\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[\"class\", \"row postsMixedListErrorContainer\", 4, \"ngIf\"], [3, \"carouselGooglePosts\", \"posterLinkGooglePosts\", \"carouselGooglePostsAutoSlide\", \"mouseover\", \"mouseout\", 4, \"ngIf\"], [1, \"row\", \"postsMixedListErrorContainer\"], [1, \"alert\", \"alert-danger\"], [4, \"ngFor\", \"ngForOf\"], [3, \"carouselGooglePosts\", \"posterLinkGooglePosts\", \"carouselGooglePostsAutoSlide\", \"mouseover\", \"mouseout\"]],\n    template: function PostListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\");\n        i0.ɵɵtemplate(1, PostListComponent_div_1_Template, 3, 1, \"div\", 0);\n        i0.ɵɵtemplate(2, PostListComponent_app_carousel_2_Template, 1, 3, \"app-carousel\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.postsMixedListErrors.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.postsGoogle && ctx.postsGoogle.length > 0);\n      }\n    },\n    directives: [i2.NgIf, i2.NgForOf, i3.CarouselComponent],\n    styles: [\"section[_ngcontent-%COMP%]{display:inline;text-align:center}\"]\n  });\n  return PostListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}