{"ast":null,"code":"import { map, switchMap } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\nimport { ReviewApp } from '../../models';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/review.service\";\nfunction TestimonialDetailComponent_div_2_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const error_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(error_r2);\n  }\n}\nfunction TestimonialDetailComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"ul\", 11);\n    i0.ɵɵtemplate(2, TestimonialDetailComponent_div_2_li_2_Template, 2, 1, \"li\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.selectedReviewEditErrors);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/admin/review/edit\", a1];\n};\nexport let TestimonialDetailComponent = /*#__PURE__*/(() => {\n  class TestimonialDetailComponent {\n    constructor(route, reviewService, router) {\n      this.route = route;\n      this.reviewService = reviewService;\n      this.router = router;\n      this.selectedReviewEditErrors = [];\n      this.reviewOnSESubscription = new Subscription();\n      this.reviewOnSEDSubscription = new Subscription();\n      this.reviewsOnSESubscription = new Subscription();\n      this.reviewOnSE = new ReviewApp();\n      this.reviewsOnSE = [];\n      this.reviewRatingFour = 0;\n      this.readonlyFour = true;\n      this.maxFour = 5;\n    }\n    ngOnInit() {\n      this.reviewOnSESubscription = this.route.paramMap.pipe(map(params => params.get('id')), switchMap(id => this.reviewService.getReview(id))).subscribe({\n        next: reviewAppDetail => {\n          this.reviewOnSE = reviewAppDetail;\n          console.log(this.route, 'Start', this.reviewOnSE);\n        },\n        error: error => this.handleReviewOnSEErrors(error.error.message)\n      });\n      this.reviewsOnSESubscription = this.reviewService.getSiteReviews().subscribe({\n        next: detailReviewsApp => {\n          this.reviewsOnSE = detailReviewsApp;\n        },\n        error: error => this.handleReviewOnSEErrors(error.error)\n      });\n    }\n    onEventOnSE(event) {\n      console.log('Preventing Event default Propagation');\n      event.stopPropagation();\n    }\n    onDeleteOnSE(reviewOnSEOnSite) {\n      this.reviewOnSEDSubscription = this.reviewService.removeReview(reviewOnSEOnSite._id).subscribe({\n        next: dEReview => {\n          console.log('Deleted Review ', dEReview);\n          this.reviewsOnSE = this.reviewsOnSE.filter(dEReview => dEReview._id !== reviewOnSEOnSite._id);\n          this.router.navigateByUrl('admin/dash');\n        },\n        error: error => this.handleReviewOnSEErrors(error.error)\n      });\n    }\n    handleReviewOnSEErrors(errors) {\n      this.selectedReviewEditErrors = Array.isArray(errors) ? errors : [errors];\n    }\n    ngOnDestroy() {\n      this.reviewOnSESubscription.unsubscribe();\n      this.reviewOnSEDSubscription.unsubscribe();\n      this.reviewsOnSESubscription.unsubscribe();\n    }\n  }\n  TestimonialDetailComponent.ɵfac = function TestimonialDetailComponent_Factory(t) {\n    return new (t || TestimonialDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ReviewService), i0.ɵɵdirectiveInject(i1.Router));\n  };\n  TestimonialDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TestimonialDetailComponent,\n    selectors: [[\"app-testimonial-detail\"]],\n    decls: 102,\n    vars: 24,\n    consts: [[1, \"selectedReview\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-8\"], [1, \"\"], [1, \"col\"], [\"alt\", \"The reviews owner user image.\", 1, \"reviewOnSEUserImage\", 3, \"src\"], [3, \"rate\", \"readonly\", \"max\"], [1, \"row\", 3, \"click\"], [1, \"btn\", \"btn-outline-warning\", 3, \"routerLink\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"alert\", \"alert-danger\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function TestimonialDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"fieldset\");\n        i0.ɵɵtemplate(2, TestimonialDetailComponent_div_2_Template, 3, 1, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"legend\", 4);\n        i0.ɵɵtext(6, \"Review Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 2);\n        i0.ɵɵelementStart(8, \"p\", 5);\n        i0.ɵɵtext(9, \"Review Id: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"p\", 5);\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 2);\n        i0.ɵɵelementStart(13, \"p\", 5);\n        i0.ɵɵtext(14, \"Review Content: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"p\", 5);\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 2);\n        i0.ɵɵelementStart(18, \"p\", 5);\n        i0.ɵɵtext(19, \"Review Username: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"p\", 5);\n        i0.ɵɵtext(21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 2);\n        i0.ɵɵelementStart(23, \"p\", 5);\n        i0.ɵɵtext(24, \"Review Likes: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"p\", 5);\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 2);\n        i0.ɵɵelementStart(28, \"p\", 5);\n        i0.ɵɵtext(29, \"User Image: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"p\", 5);\n        i0.ɵɵelement(31, \"img\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 2);\n        i0.ɵɵelementStart(33, \"p\", 5);\n        i0.ɵɵtext(34, \"Review Rating: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"p\", 5);\n        i0.ɵɵelement(36, \"ngb-rating\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 2);\n        i0.ɵɵelementStart(38, \"p\", 5);\n        i0.ɵɵtext(39, \"Owner Review Display: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"p\", 5);\n        i0.ɵɵtext(41);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"div\", 2);\n        i0.ɵɵelementStart(43, \"p\", 5);\n        i0.ɵɵtext(44, \"Owner Response: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"p\", 5);\n        i0.ɵɵtext(46);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"div\", 2);\n        i0.ɵɵelementStart(48, \"p\", 5);\n        i0.ɵɵtext(49, \"Owner Response Date: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"p\", 5);\n        i0.ɵɵtext(51);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"div\", 2);\n        i0.ɵɵelementStart(53, \"p\", 5);\n        i0.ɵɵtext(54, \"User Review Date: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"p\", 5);\n        i0.ɵɵtext(56);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"div\", 2);\n        i0.ɵɵelementStart(58, \"p\", 5);\n        i0.ɵɵtext(59, \"Owner Revision Date: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"p\", 5);\n        i0.ɵɵtext(61);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"div\", 2);\n        i0.ɵɵelementStart(63, \"p\", 5);\n        i0.ɵɵtext(64, \"Image Id: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"p\", 5);\n        i0.ɵɵtext(66);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"div\", 2);\n        i0.ɵɵelementStart(68, \"p\", 5);\n        i0.ɵɵtext(69, \"Image Length: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"p\", 5);\n        i0.ɵɵtext(71);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(72, \"div\", 2);\n        i0.ɵɵelementStart(73, \"p\", 5);\n        i0.ɵɵtext(74, \"Image Chunk Size: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(75, \"p\", 5);\n        i0.ɵɵtext(76);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(77, \"div\", 2);\n        i0.ɵɵelementStart(78, \"p\", 5);\n        i0.ɵɵtext(79, \"Image Upload Date: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(80, \"p\", 5);\n        i0.ɵɵtext(81);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(82, \"div\", 2);\n        i0.ɵɵelementStart(83, \"p\", 5);\n        i0.ɵɵtext(84, \"Image Filename: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(85, \"p\", 5);\n        i0.ɵɵtext(86);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(87, \"div\", 2);\n        i0.ɵɵelementStart(88, \"p\", 5);\n        i0.ɵɵtext(89, \"Image Md5: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"p\", 5);\n        i0.ɵɵtext(91);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(92, \"div\", 2);\n        i0.ɵɵelementStart(93, \"p\", 5);\n        i0.ɵɵtext(94, \"Image Content type: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(95, \"p\", 5);\n        i0.ɵɵtext(96);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(97, \"div\", 8);\n        i0.ɵɵlistener(\"click\", function TestimonialDetailComponent_Template_div_click_97_listener($event) {\n          return ctx.onEventOnSE($event);\n        });\n        i0.ɵɵelementStart(98, \"button\", 9);\n        i0.ɵɵtext(99, \"Edit Review\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(100, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function TestimonialDetailComponent_Template_button_click_100_listener() {\n          return ctx.onDeleteOnSE(ctx.reviewOnSE);\n        });\n        i0.ɵɵtext(101, \"Remove Review\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedReviewEditErrors.length);\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE._id);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.content);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.writtenBy);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.likes);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.reviewOnSE == null ? null : ctx.reviewOnSE.byImagePath, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"rate\", ctx.reviewRatingFour)(\"readonly\", ctx.readonlyFour)(\"max\", ctx.maxFour);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.oAnswered);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.oResponse);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.oRDate);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.createdAt);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.updatedAt);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.byImage == null ? null : ctx.reviewOnSE.byImage._id);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.byImage == null ? null : ctx.reviewOnSE.byImage.length);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.byImage == null ? null : ctx.reviewOnSE.byImage.chunkSize);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.byImage == null ? null : ctx.reviewOnSE.byImage.uploadDate);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.byImage == null ? null : ctx.reviewOnSE.byImage.filename);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.byImage == null ? null : ctx.reviewOnSE.byImage.md5);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.reviewOnSE == null ? null : ctx.reviewOnSE.byImage == null ? null : ctx.reviewOnSE.byImage.contentType);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(22, _c0, ctx.reviewOnSE._id));\n      }\n    },\n    styles: [\"\"]\n  });\n  return TestimonialDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}