{"ast":null,"code":"import { map, switchMap } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\nimport { Section } from '../../../models';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../services/section.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../nav/nav.component\";\nimport * as i5 from \"../../../contact/contact.component\";\nfunction InvestigationDetailComponent_div_1_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const error_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(error_r3);\n  }\n}\nfunction InvestigationDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelementStart(1, \"ul\", 13);\n    i0.ɵɵtemplate(2, InvestigationDetailComponent_div_1_li_2_Template, 2, 1, \"li\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.selectedInvestigationErrors);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/home/investigation/details\", a1];\n};\nfunction InvestigationDetailComponent_li_6_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const investigationDTitle_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, investigationDTitle_r4._id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(investigationDTitle_r4.title);\n  }\n}\nfunction InvestigationDetailComponent_li_6_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const investigationDTitle_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(investigationDTitle_r4.title);\n  }\n}\nfunction InvestigationDetailComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 15);\n    i0.ɵɵtemplate(1, InvestigationDetailComponent_li_6_a_1_Template, 2, 4, \"a\", 16);\n    i0.ɵɵtemplate(2, InvestigationDetailComponent_li_6_a_2_Template, 2, 1, \"a\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const investigationDTitle_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", investigationDTitle_r4.title !== \"Investigations Home\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", investigationDTitle_r4.title === \"Investigations Home\");\n  }\n}\nexport let InvestigationDetailComponent = /*#__PURE__*/(() => {\n  class InvestigationDetailComponent {\n    // public getScreenWidth: any;\n    // public getScreenHeight: any;\n    // @ViewChild('selectedThis', { static: true }) selectedThis!: ElementRef;\n    constructor(route, investigationService) {\n      this.route = route;\n      this.investigationService = investigationService;\n      this.selectedInvestigationErrors = [];\n      this.investigationsDetail = [];\n      this.investigationsDetailSubscription = new Subscription();\n      this.sInvestigationD = new Section();\n      this.sInvestigationDStart = this.navInvestigationD();\n      this.sInvestigationDSubscription = new Subscription();\n      this.sInvestigation = new Section();\n      this.sInvestigationSubscription = new Subscription();\n    }\n    // @HostListener('window:resize', ['$event'])\n    // onWindowResize(): void {\n    //   this.getScreenWidth = window.innerWidth;\n    //   this.getScreenHeight = window.innerHeight;\n    //   console.log(this.getScreenHeight, this.getScreenWidth);\n    //   // this.adjustFontSize();\n    // }\n    ngOnInit() {\n      this.sInvestigationSubscription = this.route.paramMap.pipe(map(params => params.get('id')), switchMap(id => this.investigationService.getSection(id))).subscribe({\n        next: sInvestigation => {\n          this.sInvestigation = sInvestigation;\n          // this.adjustFontSize();\n        },\n\n        error: error => this.handleSelectedInvestigationErrors(error.error.message)\n      });\n      this.investigationsDetailSubscription = this.investigationService.getSections().subscribe({\n        next: investigationsDetail => {\n          for (let investigationD in investigationsDetail) {\n            if (investigationsDetail[investigationD].title.slice(investigationsDetail[investigationD].title.length - 14, investigationsDetail[investigationD].title.length) === 'Investigations') {\n              this.investigationsDetail.push(investigationsDetail[investigationD]);\n            }\n            if (investigationsDetail[investigationD].title === 'Investigations Home') {\n              this.investigationsDetail.push(investigationsDetail[investigationD]);\n            }\n            console.log(investigationsDetail[investigationD].title, investigationsDetail[investigationD].title.length);\n          }\n        },\n        error: error => this.handleSelectedInvestigationErrors(error.error)\n      });\n    }\n    //   private adjustFontSize() {\n    //     const elementW = this.getScreenWidth;\n    //     const elementH = this.selectedThis.nativeElement;\n    //     const element = this.sInvestigation.title;\n    //     const textContent = element || '';\n    //     const textLength = textContent.length || 1;\n    //     console.log('\\ntextLength', textLength, '\\nthis.sInvestigation', this.sInvestigation);\n    //     if (textLength > 40) {\n    //       this.renderer.setStyle(elementH, 'white-space', `normal`);\n    //     } else {\n    //       this.renderer.setStyle(elementH, 'white-space', `nowrap`);\n    //     }\n    //     if (textLength <= 30 && elementW > 1121 || elementW < 1121) {\n    //       elementH.style.letterSpacing = '0px'\n    //       // this.renderer.setStyle(elementH, 'letter-spacing', '0px');\n    //     } else if (textLength > 30 && elementW > 1121) {\n    //       // this.renderer.setStyle(elementH, 'letter-spacing', '-3px');\n    //       elementH.style.letterSpacing = '-3px'\n    //     }\n    // }\n    navInvestigationD() {\n      this.sInvestigationDSubscription = this.route.paramMap.pipe(map(params => params.get('id')), switchMap(id => this.investigationService.getSection(id))).subscribe({\n        next: sInvestigationD => {\n          this.sInvestigationD = sInvestigationD;\n        },\n        error: error => this.handleSelectedInvestigationErrors(error.error.message)\n      });\n    }\n    handleSelectedInvestigationErrors(errors) {\n      this.selectedInvestigationErrors = Array.isArray(errors) ? errors : [errors];\n    }\n    // ngAfterViewInit() {\n    //   this.adjustFontSize();\n    // }\n    ngOnDestroy() {\n      this.sInvestigationSubscription.unsubscribe();\n      this.sInvestigationDSubscription.unsubscribe();\n      this.investigationsDetailSubscription.unsubscribe();\n    }\n  }\n  InvestigationDetailComponent.ɵfac = function InvestigationDetailComponent_Factory(t) {\n    return new (t || InvestigationDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.SectionService));\n  };\n  InvestigationDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InvestigationDetailComponent,\n    selectors: [[\"app-investigation-detail\"]],\n    decls: 16,\n    vars: 8,\n    consts: [[\"id\", \"selectedInvestigation\"], [\"class\", \"row\", 4, \"ngIf\"], [3, \"selectedNavSection\"], [\"id\", \"investigationsDetailHolder\", 1, \"row\"], [\"id\", \"investigationsDetailTitles\", 1, \"\"], [\"id\", \"investigationsDetailTitlesTable\", 1, \"row\"], [\"class\", \"investigationsDetailListItem\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"investigationsMainHolder\", 1, \"\"], [\"id\", \"sInvestigationTitleId\", 1, \"sInvestigationTitle\"], [1, \"sInvestigationImage\", 3, \"src\", \"alt\"], [1, \"sInvestigationContent\"], [\"routerLink\", \"/home/investigations\", 1, \"btn\", \"btn-primary\", \"sInvestigationButton\"], [1, \"row\"], [1, \"alert\", \"alert-danger\"], [4, \"ngFor\", \"ngForOf\"], [1, \"investigationsDetailListItem\"], [\"class\", \"investigationsDetailListItemAtag\", 3, \"routerLink\", 4, \"ngIf\"], [\"routerLink\", \"/home/investigations\", \"class\", \"investigationsDetailListItemAtag\", 4, \"ngIf\"], [1, \"investigationsDetailListItemAtag\", 3, \"routerLink\"], [\"routerLink\", \"/home/investigations\", 1, \"investigationsDetailListItemAtag\"]],\n    template: function InvestigationDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵtemplate(1, InvestigationDetailComponent_div_1_Template, 3, 1, \"div\", 1);\n        i0.ɵɵelement(2, \"app-nav\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"ul\", 5);\n        i0.ɵɵtemplate(6, InvestigationDetailComponent_li_6_Template, 3, 2, \"li\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵelementStart(8, \"h1\", 8);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"img\", 9);\n        i0.ɵɵelementStart(11, \"p\", 10);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"button\", 11);\n        i0.ɵɵtext(14, \"Go Back\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"app-contact\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedInvestigationErrors.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"selectedNavSection\", ctx.sInvestigationD);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.investigationsDetail);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.sInvestigation == null ? null : ctx.sInvestigation.title);\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.sInvestigation == null ? null : ctx.sInvestigation.sectionImagePath, i0.ɵɵsanitizeUrl);\n        i0.ɵɵpropertyInterpolate2(\"alt\", \"The picture \", ctx.sInvestigation == null ? null : ctx.sInvestigation.sectionImage == null ? null : ctx.sInvestigation.sectionImage.filename, \" of \", ctx.sInvestigation == null ? null : ctx.sInvestigation.title, \" was not available.\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.sInvestigation == null ? null : ctx.sInvestigation.content);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, i4.NavComponent, i1.RouterLinkWithHref, i1.RouterLink, i5.ContactComponent],\n    styles: [\"section#selectedInvestigation[_ngcontent-%COMP%], app-contact[_ngcontent-%COMP%]{position:relative}app-nav[_ngcontent-%COMP%]{display:none}section#selectedInvestigation[_ngcontent-%COMP%]{width:100%}div#investigationsDetailHolder[_ngcontent-%COMP%]{display:flex}div#investigationsDetailTitles[_ngcontent-%COMP%]{width:26%;display:flex;flex-direction:column}ul#investigationsDetailTitlesTable[_ngcontent-%COMP%]{position:sticky;top:16%;list-style:none}li.investigationsDetailListItem[_ngcontent-%COMP%]{text-align:center;padding:.5rem 0rem}a.investigationsDetailListItemAtag[_ngcontent-%COMP%]{text-decoration:none;font-size:1.5rem;background-color:#fff}div#investigationsMainHolder[_ngcontent-%COMP%]{width:74%;display:flex;align-items:center;flex-direction:column}img.sInvestigationImage[_ngcontent-%COMP%]{height:30%;width:90%;margin-bottom:1.5%}p.sInvestigationContent[_ngcontent-%COMP%]{width:90%;margin-bottom:1%;background-color:#fff;text-align:justify;font-size:1.25vw}h1.sInvestigationTitle[_ngcontent-%COMP%]{margin-bottom:1%;width:90%;text-align:center;background-color:#fff;font-size:5vw}button.sInvestigationButton[_ngcontent-%COMP%]{margin-bottom:3%}@media only screen and (min-width: 2478px){a.investigationsDetailListItemAtag[_ngcontent-%COMP%]{font-size:1.75rem}}@media only screen and (max-width: 2022px){a.investigationsDetailListItemAtag[_ngcontent-%COMP%]{font-size:1.5rem}}@media only screen and (max-width: 1566px){a.investigationsDetailListItemAtag[_ngcontent-%COMP%]{font-size:1.25rem}}@media only screen and (max-width: 1246px){div#investigationsDetailTitles[_ngcontent-%COMP%]{width:28%}div#investigationsMainHolder[_ngcontent-%COMP%]{width:72%}}@media only screen and (max-width: 1120px){div#investigationsDetailTitles[_ngcontent-%COMP%]{width:33%;padding:0}div#investigationsMainHolder[_ngcontent-%COMP%]{width:67%}p.sInvestigationContent[_ngcontent-%COMP%]{font-size:1.75vw}ul#investigationsDetailTitlesTable[_ngcontent-%COMP%]{position:sticky;top:9%;list-style:none}}@media only screen and (max-width: 970px){div#selectedInvestigation[_ngcontent-%COMP%]{margin:0}div#investigationsDetailTitles[_ngcontent-%COMP%]{width:35%}div#investigationsMainHolder[_ngcontent-%COMP%]{width:65%}}@media only screen and (max-width: 837px){a.investigationsDetailListItemAtag[_ngcontent-%COMP%]{font-size:1.1rem}}@media only screen and (max-width: 724px){div#investigationsDetailTitles[_ngcontent-%COMP%]{width:40%}div#investigationsMainHolder[_ngcontent-%COMP%]{width:60%}p.sInvestigationContent[_ngcontent-%COMP%]{font-size:2vw}}@media only screen and (max-width: 672px){a.investigationsDetailListItemAtag[_ngcontent-%COMP%]{font-size:.99rem}}@media only screen and (max-width: 568px){div#investigationsDetailTitles[_ngcontent-%COMP%]{display:none}div#investigationsMainHolder[_ngcontent-%COMP%]{width:98%}h1.sInvestigationTitle[_ngcontent-%COMP%]{font-size:5.5vw}p.sInvestigationContent[_ngcontent-%COMP%]{font-size:3.5vw}div#investigationsDetailHolder[_ngcontent-%COMP%]{justify-content:center}}@media only screen and (max-width: 481px){[_nghost-%COMP%]     app-contact div#contactEndHolderCell{width:109%}[_nghost-%COMP%]     app-contact div#contactEndHolder{width:109%}}@media screen and (max-width: 420px){h1.sInvestigationTitle[_ngcontent-%COMP%]{font-size:6.5vw}p.sInvestigationContent[_ngcontent-%COMP%]{font-size:3.75vw}}@media only screen and (max-width: 390px){h1.sInvestigationTitle[_ngcontent-%COMP%]{font-size:7.5vw}p.sInvestigationContent[_ngcontent-%COMP%]{font-size:4vw}}@media only screen and (max-width: 330px){h1.sInvestigationTitle[_ngcontent-%COMP%]{font-size:1.85rem}p.sInvestigationContent[_ngcontent-%COMP%]{font-size:1rem}}\"]\n  });\n  return InvestigationDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}